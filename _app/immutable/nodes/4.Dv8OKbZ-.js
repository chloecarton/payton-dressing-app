import{r as ie,a as ce,n as Y,e as B,u as ue,o as de}from"../chunks/tools.DgVOCJC5.js";import{s as re,a as U,n as I,r as fe}from"../chunks/scheduler.B6yqLnpn.js";import{S as se,i as le,e as v,s as $,t as x,c as g,a as b,d as f,f as E,b as M,l as d,g as w,h as m,m as W,j as F,q as X,k as ae,p as A,r as ne,o as J,v as oe,x as _e,y as pe,z as he,A as me}from"../chunks/index.CZvGe1lO.js";import{g as ve}from"../chunks/entry.DWXtDroj.js";const ge=async({fetch:i})=>{let e=[],r=null;if(typeof window<"u"){const t=sessionStorage.getItem("products");if(t)return e=JSON.parse(t),ie(sessionStorage),{products:e}}try{let t=await ce();e=t.products,typeof window<"u"&&(sessionStorage.setItem("products",JSON.stringify(t.products)),sessionStorage.setItem("api_version",t.version),sessionStorage.setItem("expires_at",new Date(new Date().getTime()+5*6e4).toISOString()))}catch(t){t instanceof Error&&(r=t.cause),r=500}return{products:e,error:r}},ze=Object.freeze(Object.defineProperty({__proto__:null,load:ge},Symbol.toStringTag,{value:"Module"}));function ke(i){let e,r,t,u,n,l,s,a,c=i[0].title+"",P,k,y,o,_=(i[0].size!==null?i[0].size:"NC")+"",j,T,S,H,C,z=Y(i[0].price)+"",V,N,L,G;return{c(){e=v("div"),r=v("div"),t=v("img"),l=$(),s=v("div"),a=v("h2"),P=x(c),k=$(),y=v("div"),o=v("p"),j=x(_),T=$(),S=v("p"),H=x("Prix: "),C=v("span"),V=x(z),this.h()},l(p){e=g(p,"DIV",{id:!0,role:!0,class:!0,tabindex:!0});var h=b(e);r=g(h,"DIV",{class:!0});var D=b(r);t=g(D,"IMG",{src:!0,alt:!0,referrerpolicy:!0,class:!0}),D.forEach(f),l=E(h),s=g(h,"DIV",{class:!0});var q=b(s);a=g(q,"H2",{class:!0});var K=b(a);P=M(K,c),K.forEach(f),k=E(q),y=g(q,"DIV",{class:!0});var O=b(y);o=g(O,"P",{class:!0});var Q=b(o);j=M(Q,_),Q.forEach(f),T=E(O),S=g(O,"P",{class:!0});var Z=b(S);H=M(Z,"Prix: "),C=g(Z,"SPAN",{class:!0});var R=b(C);V=M(R,z),R.forEach(f),Z.forEach(f),O.forEach(f),q.forEach(f),h.forEach(f),this.h()},h(){var p,h;U(t.src,u=(h=(p=i[0])==null?void 0:p.featuredImage)==null?void 0:h.url)||d(t,"src",u),d(t,"alt",n=i[0].title),d(t,"referrerpolicy","no-referrer"),d(t,"class","svelte-nyqjor"),d(r,"class","image-container svelte-nyqjor"),d(a,"class","svelte-nyqjor"),d(o,"class","size svelte-nyqjor"),d(C,"class","price svelte-nyqjor"),d(S,"class","svelte-nyqjor"),d(y,"class","card-price-and-size svelte-nyqjor"),d(s,"class","card-info svelte-nyqjor"),d(e,"id",N=i[0].id),d(e,"role","button"),d(e,"class","card svelte-nyqjor"),d(e,"tabindex","0")},m(p,h){w(p,e,h),m(e,r),m(r,t),m(e,l),m(e,s),m(s,a),m(a,P),m(s,k),m(s,y),m(y,o),m(o,j),m(y,T),m(y,S),m(S,H),m(S,C),m(C,V),L||(G=[W(e,"click",i[1]),W(e,"keydown",i[2])],L=!0)},p(p,[h]){var D,q;h&1&&!U(t.src,u=(q=(D=p[0])==null?void 0:D.featuredImage)==null?void 0:q.url)&&d(t,"src",u),h&1&&n!==(n=p[0].title)&&d(t,"alt",n),h&1&&c!==(c=p[0].title+"")&&F(P,c),h&1&&_!==(_=(p[0].size!==null?p[0].size:"NC")+"")&&F(j,_),h&1&&z!==(z=Y(p[0].price)+"")&&F(V,z),h&1&&N!==(N=p[0].id)&&d(e,"id",N)},i:I,o:I,d(p){p&&f(e),L=!1,fe(G)}}}function ye(i,e,r){let{product:t}=e;t.featuredImage||(t.featuredImage={id:"unknown",fileId:"unknown",productReference:t.reference,url:"https://lh3.googleusercontent.com/d/1PP9J9ZVm6o6bcOQVjwarnmzYAZCpFqNp"});function u(){ve(`/product-details?ref=${t.reference}`)}function n(l){(l.key==="Enter"||l.key===" ")&&u()}return i.$$set=l=>{"product"in l&&r(0,t=l.product)},[t,u,n]}class be extends se{constructor(e){super(),le(this,e,ye,ke,re,{product:0})}}function ee(i,e,r){const t=i.slice();return t[2]=e[r],t}function Ie(i){return{c:I,l:I,m:I,d:I}}function je(i){let e,r="Loading...";return{c(){e=v("p"),e.textContent=r,this.h()},l(t){e=g(t,"P",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-1m6gtj"&&(e.textContent=r),this.h()},h(){d(e,"class","loading")},m(t,u){w(t,e,u)},p:I,i:I,o:I,d(t){t&&f(e)}}}function we(i){let e,r=[],t=new Map,u,n=B(i[0].products);const l=s=>s[2].reference;for(let s=0;s<n.length;s+=1){let a=ee(i,n,s),c=l(a);t.set(c,r[s]=te(c,a))}return{c(){e=v("div");for(let s=0;s<r.length;s+=1)r[s].c();this.h()},l(s){e=g(s,"DIV",{class:!0});var a=b(e);for(let c=0;c<r.length;c+=1)r[c].l(a);a.forEach(f),this.h()},h(){d(e,"class","grid-container svelte-1x82aef")},m(s,a){w(s,e,a);for(let c=0;c<r.length;c+=1)r[c]&&r[c].m(e,null);u=!0},p(s,a){a&1&&(n=B(s[0].products),oe(),r=ue(r,a,l,1,s,n,t,e,de,te,null,ee),ne())},i(s){if(!u){for(let a=0;a<n.length;a+=1)J(r[a]);u=!0}},o(s){for(let a=0;a<r.length;a+=1)A(r[a]);u=!1},d(s){s&&f(e);for(let a=0;a<r.length;a+=1)r[a].d()}}}function te(i,e){let r,t,u,n;return t=new be({props:{product:e[2]}}),{key:i,first:null,c(){r=v("div"),_e(t.$$.fragment),u=$(),this.h()},l(l){r=g(l,"DIV",{class:!0});var s=b(r);pe(t.$$.fragment,s),u=E(s),s.forEach(f),this.h()},h(){d(r,"class","product svelte-1x82aef"),this.first=r},m(l,s){w(l,r,s),he(t,r,null),m(r,u),n=!0},p(l,s){e=l;const a={};s&1&&(a.product=e[2]),t.$set(a)},i(l){n||(J(t.$$.fragment,l),n=!0)},o(l){A(t.$$.fragment,l),n=!1},d(l){l&&f(r),me(t)}}}function Pe(i){let e,r="Mon dressing",t,u,n,l,s,a,c=i[1]&&Ie();const P=[we,je],k=[];function y(o,_){return o[0].products?0:1}return n=y(i),l=k[n]=P[n](i),{c(){e=v("h1"),e.textContent=r,t=$(),c&&c.c(),u=$(),l.c(),s=X(),this.h()},l(o){e=g(o,"H1",{class:!0,"data-svelte-h":!0}),ae(e)!=="svelte-1j4dzpr"&&(e.textContent=r),t=E(o),c&&c.l(o),u=E(o),l.l(o),s=X(),this.h()},h(){d(e,"class","product-list-title svelte-1x82aef")},m(o,_){w(o,e,_),w(o,t,_),c&&c.m(o,_),w(o,u,_),k[n].m(o,_),w(o,s,_),a=!0},p(o,[_]){let j=n;n=y(o),n===j?k[n].p(o,_):(oe(),A(k[j],1,1,()=>{k[j]=null}),ne(),l=k[n],l?l.p(o,_):(l=k[n]=P[n](o),l.c()),J(l,1),l.m(s.parentNode,s))},i(o){a||(J(l),a=!0)},o(o){A(l),a=!1},d(o){o&&(f(e),f(t),f(u),f(s)),c&&c.d(o),k[n].d(o)}}}function Se(i,e,r){let{data:t}=e,u=["homme","femme"];return i.$$set=n=>{"data"in n&&r(0,t=n.data)},[t,u]}class De extends se{constructor(e){super(),le(this,e,Se,Pe,re,{data:0})}}export{De as component,ze as universal};
